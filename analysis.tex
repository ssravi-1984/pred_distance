\section{Analytical Results}
\label{sec:analysis}

In this section, we present several analytical results regarding the
similarities of predecessor sets of two configurations of a SyDS.
These results point out that SyDSs may exhibit 
extreme levels of behavior with respect to similarity.
Throughout this section, the reader should bear in mind that
for any configuration \calc, \predset{\calc}{}
denotes the set of all predecessors of \calc.

Our first result shows that there are SyDSs such that 
if a pair of distinct configurations is $h$-close, then 
any pair of their predecessors is also $h$-close.

%% The second result shows that there are SyDSs such that 
%% there is a pair of distinct configurations that is $1$-close, but 
%% have predecessors which have the maximum level of dissimilarity
%% (i.e., the Hamming distance these predecessor configurations
%% is $n$, the number of nodes).


\begin{proposition}\label{pro:close-close}
For all integers $n$ and $h$, where $n \geq 1$ and $1 \leq h \leq n$,
there is a SyDS $\cals_1${} with $n$
nodes satisfying both of the following properties: 
(i) every configuration has a predecessor and (ii) 
for any pair of distinct configurations
\calcone{} and \calctwo{} that are $h$-close, 
$\maxsep\left( \predset{\calcone},~ \predset{\calctwo} \right)$ ~=~ $h$.
\end{proposition}

\noindent
\textbf{Proof:}~ The idea is to construct a SyDS in which each configuration
is a fixed point.
Thus, each configuration \calc{} has a predecessor, namely \calc{} itself.
As a direct consequence, we have that if configurations \calcone{} and
\calctwo{} are $h$-close for some integer $h$, $1 \leq h \leq n$,
then the corresponding predecessors are also $h$-close.

Such a SyDS $\cals_1${} can be constructed as follows.
The underlying graph $G(V,E)$ has $n$ nodes and the set of edges is arbitrary.
For each node $v \in V$, the value of local function $f_v$ is the 
current state value of $v$; thus, $f_v$ ignores the states of all the nodes
to which $v$ has an edge in $G$.
In such a SyDS, it can be seen that successor of each configuration \calc{}
is \calc{} itself; that is, each configuration is a fixed point. \QED

Our next result shows that there are SyDSs for which 
there is a pair of distinct configurations is $1$-close, but
their predecessors are highly dissimilar; that is, they have 
the maximum possible Hamming distance.

\begin{proposition}\label{pro:close-far}
For any integer $n \geq 2$,
there is a SyDS $\cals_2${} with $n$
nodes satisfying both of the following properties: 
(i) every configuration has a predecessor, 
(ii) every local function is 2-symmetric and
(iii) for every configuration
\calcone, there is a configuration \calctwo{} such that 
\calcone{} and \calctwo{} are $1$-close but 
$\minsep\left( \predset{\calcone},~ \predset{\calctwo} \right)$ ~=~ $n$.
\end{proposition}

\noindent
\textbf{Proof:} 
Let $G$ be any \emph{connected} graph on $n$ nodes.
We will construct a SyDS $\cals_2${} with $G$ as its  underlying graph.

Before constructing $S$, we first construct a  spanning tree for $G$.
Then we choose any node $w$ of G, and call this node the {\em root node}.
For every other node $v$,
we consider the spanning tree neighbor of $v$ 
that is on the path from the root node to $v$.
We call this node the {\em key neighbor} of $v$, 
and denote it as $k(v)$.  
For any node $v$,
we let $K(v)$ denote the set of nodes along 
the spanning tree path between the root node and $v$.
Note that $K(v)$ includes the endpoints of this path.

We now specify the local functions of $\cals_2$.
The local function of the root node $w$ is the \emph{identity} function;
that is, the value of the local function is the current state value of $w$.
For any other node $v$ the local transition function of $v$ is $v \oplus k(v)$, that is,
the exclusive-or of $v$ and its key neighbor.
This completes the construction of $\cals_2$.

For any configuration \calc{} and  node $u$, 
we let $\calc(u)$ denote the value of $u$ in \calc.
Also, for a set of nodes  $X$,
we let $\hat{\calc}(X)$ denote the exclusive-or of $\calc(u)$ 
over the multiset of values  $\{\calc(u) | u \in X\}$.

Consider any configuration \calc.
Let \calcp{} be the configuration where for each node $v$, 
$\calcp(v) = \hat{\calc}(K(v))$.
Let $\calc''$ be the successor of \calcp.
If $v$ is the root node, then $K(v) = \{v\}$, so $\calcp(v) = \calc(v)$.
Since the local function for the key node is the identity function,
$\calc''(v) = \calc(v)$.
If $v$ is not the key node, then from the local function for $v$,
$\calc''(v) = \calcp(v)  \oplus \calcp(k(v))$.
From the construction of \calcp, note that
$\calcp(v) = \hat{\calc}(K(v))$ and $\calcp(k(v))$ =  
$\hat{\calc}(K(k(v)))$.
Further, $K(v) = K(k(v)) \cup \{v\}$.
Thus, $\hat{\calc}(K(v))$ = $\hat{\calc}(K(k(v))) \oplus \calc(v)$.
Hence, $\calc''(v)$ = $\hat{\calc}(K(k(v))) \oplus \calc(v) \oplus  \hat{\calc}(K(k(v)))$
= $\calc(v)$.
Consequently, \calcp{} is a predecessor of \calc.

Since each configuration of $\cals_2$ has a predecessor, 
and each configuration has exactly one successor,
each configuration has a unique predecessor.

Now consider any configuration $\calcone$.
Let \calctwo{} be the configuration that differs from 
\calcone{} only in the value of the root node.
We claim that the predecessors $\calcone'$ and $\calctwo'$
of \calcone{} and \calctwo{}, respectively, 
differ in the values of all nodes.

If $v$ is the root node, then since \calcone{} and \calctwo{} 
differ in the value of the root node,
$\calcone'$ and $\calctwo'$ also differ in the value of the root node.

Suppose that $v$ is not the root node.
Then $\calcone'(v) = \hat{\calcone}(K(v))$ and $\calctwo'(v) = \hat{\calctwo}(K(v))$.
The values in $K(v)$ in \calcone{} and \calctwo{} differ 
in the value of the root node, and no other node.
Thus, $\calcone'(v)$ and $\calctwo'(v)$ have complementary values. \QED


\iffalse
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% old version of the proof. Not needed now.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The underlying graph $G(V,E)$ is a simple path on $n$ nodes.
Choose any node of $G$, and call this node $x$ the {\em key node}. For
every other node $v$, choose any neighbor $w$ of $v$ that is closer to the
key node than $v$. Call this node $w$ the {\em key neighbor} of $v$.
The local transition function of the key node $x$ is the identity
function (i.e., the value of the local function $f_x$ at $x$ is
the current state of $x$).
For any other node $v$, the local transition function of
$v$ is the XOR (i.e., exclusive or) of the state of $v$ 
and that if its key neighbor.
This completes the construction of S.

Now consider any configuration \calcone. 
Let \calctwo{} be the configuration that differs 
from \calcone{} only in the value of the key node.

We claim that \calcone{} and \calctwo{} have predecessors that differ in the
values of all nodes. 
Let $\calcone'$ and $\calctwo'$ denote the predecessors of
\calcone{} and \calctwo.
We use induction on the distance of a given node from the key node.
First, since the transition function of the key node is the identity function,
$\calcone'$ and $\calctwo'$ differ on the key node.
Now, consider any nonkey node $v$.  Suppose its key neighbor is $u$.
From the induction hypotheses, $\calcone'$ and $\calctwo'$ differ on $u$.
Since \calcone{} and \calctwo{} have the same value of $v$, 
but their predecessors have different values of $u$, 
$\calcone'$ and $\calctwo'$ have different values of $v$. \QED
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\fi

\smallskip

%%
\begin{wrapfigure}[9]{l}{0.35\textwidth}
\centering
\input{star_graph.pdf_t}
\caption{\small{Star graph used in the proof of
Proposition~\ref{pro:far-close}.}}
\label{fig:star-graph}
\smallskip
\end{wrapfigure}
%%
We now show the existence of SyDSs in which there 
are pairs of configurations which have the maximum level 
of dissimilarity but their predecessors are 1-close. 

\begin{proposition}\label{pro:far-close}
For any integer $n \geq 3$,
there is a SyDS $\cals_3${} with $n$
nodes satisfying both of the following properties: 
(i) there is a pair of configurations
\calcone{} and \calctwo{} with $\calh(\calcone, \calctwo) = n$  and 
(ii) $\maxsep\left( \predset{\calcone},~ \predset{\calctwo} \right)$ ~=~ $1$.
\end{proposition}

\noindent
\textbf{Proof:}~ The underlying graph of the SyDS $\cals_3$ is
the star graph on $n$ nodes shown in Figure~\ref{fig:star-graph}.
The local function at the root node $v_1$ is the \emph{identity}
function.
For each node $v_i$, where $2 \leq i \leq n$, the local function
$f_i$ is the exclusive or of the state of $v_i$ and that of $v_1$.  
This completes the specification of $\cals_3$.

Let \calcone{} be the configuration where each node is in state 1.
Similarly, let \calctwo{} be the configuration where each node is in state 0.
Thus, $\calh(\calcone, \calctwo) ~=~ n$.
It can be verified that the configuration
$\calcone'$, 
the configuration where the state of $v_1$ is 1 and the states of all other
nodes are 0 is a predecessor of \calcone.
We now claim that $\calcone'$ is the \emph{only} predecessor of \calcone.
To see this, note that  in any predecessor of \calcone, 
the state of node $v_1$ must be 1
since the local function at $v_1$ is the 
identity function and $\calcone(v_1) = 1$.
Now, for any node $v_i$, $2 \leq i \leq n$, 
suppose the state of $v_i$ in the predecessor is 1. 
Then, since the local function at $v_i$ is the exclusive or of the states of $v_1$
and $v_i$, the next state of $v_i$ will be 0 where as \calcone{} specifies
the state of $v_i$ as 1. 
Therefore, in any predecessor, for $2 \leq i \leq n$, the state of $v_i$ must be 0.
Hence, \calcone{} has a \emph{unique} predecessor, namely $\calcone'$.
In a similar manner, it can be seen that \calctwo{} has a unique predecessor 
$\calctwo'$, where all nodes are in state 0.
Thus, $\calh(\calcone', \calctwo') ~=~ 1$.
Since the predecessors of \calcone{} and \calctwo{} are unique,
it follows that $\maxsep(\Pi(\calcone, \calctwo)) = 1$, as required. \QED

\newcommand{\mps}{\mbox{MPS}}
\newcommand{\pre}{\mbox{PRE}}

\smallskip

Finally, we present a simple result that shows the computational complexity
of computing distance measures for predecessor configurations.
The decision problem, which we call \textbf{Minimum Predecessor Separation} (\mps),
is the following: given a SyDS \cals{} with $n$ nodes, two configurations \calcone,{}
\calctwo{} and a positive integer $q$, is the value 
$\minsep(\Pi(\calcone), \Pi(\calctwo))$ at most $q$?
The following result points out that \mps{} is \cnp-complete.

\begin{proposition}\label{pro:minsep-hard}
The \mps{} problem is \cnp-complete.
\end{proposition}

\noindent
\textbf{Proof:}~ It can be seen that \mps{} is in \cnp.
To prove \cnp-hardness,
we use a reduction from the 
\textbf{Predecessor Existence} (\pre) problem: given a SyDS \cals{} and
a configuration \calc, does \calc{} have a predecessor?
The \pre{} problem was shown to be \cnp-hard in \cite{BH+07}
even for SyDSs in which each node computes the 2-threshold function.
We will use this problem in our reduction.

\smallskip

\noindent
The reduction from the special version of the \pre{} problem to \mps{}
is simple.
\begin{enumerate}
\item The SyDS \cals{} in the \mps{} instance is the same as the SyDS in the
\pre{} instance.
\item We set configuration \calcone{} of the \mps{} to be the one in which
every node is in state 0.
The configuration \calctwo{} of the \mps{} is the same as the configuration
\calc{} specified in the \pre{} instance.
\item We set $q = n$, the number of nodes in \cals.
\end{enumerate}
This completes the reduction. It can be seen that the reduction
can be carried out in polynomial time.

Suppose the \pre{} problem instance has a solution.
Let $\calcp'$ be a predecessor of \calc.
Since each local function of \cals{} is the 2-threshold function,
configuration \calcone{} (where each node is in state 0) is a fixed point.
Thus, $\Pi(\calcone)$ is nonempty; it includes \calcone.
Since \calctwo{} is the same as \calc{} and \calc{} has a
predecessor \calcp,  $\Pi(\calctwo)$ is also nonempty. 
Hence, it follows that $\calh(\Pi(\calcone), \Pi(\calctwo))$ is at most $n$.
In other words, the \mps{} instance has a solution.

Now suppose the \mps{} instance has a solution.
Since the bound $q$ on the value of 
$\minsep(\Pi(\calcone), \Pi(\calctwo))$ is finite, 
it follows that both 
$Pi(\calcone)$ and $\Pi(\calctwo))$ are nonempty. 
In other words, the configuration \calctwo{} = \calc{}
has a predecessor; that is, the \pre{} instance has a solution.
This completes the proof of Proposition~\ref{pro:minsep-hard}. \QED

